---
import Icon from "@elements/Icon.astro"
import classy from "@utils/classy";
import arrow from '@icons/flecha.svg?raw'

const {
  text = '',
  title = '',
  subtitle= '',
  url = '',
  style = '',
  icon = '',
  iconSize = '',
  class : className = '',
} = Astro.props;

const tileClasses = classy([
  'p-4',
  'text-white',
  'text-center',
  'aspect-tile',
  `bg-${style}`,
  'flex flex-col',
  'items-center',
  text ? 'justify-around' : 'place-content-between',
  style === 'blue' && 'bg-gray',
  className
])

const titleClasses = classy([
  'md:typo-header-xxs',
  'lg:typo-header-xs',
  'xl:typo-header-m',
  'antialiased'
])

const subtitleClasses = classy([
  'text-xs md:typo-body-s lg:text-sm xl:typo-body-xl antialiased',
])

const iconClasses = classy([
  text ? 'max-w-[50%]' : 'max-w-32',
  iconSize ? `md:max-h-[33%] max-h-[${iconSize}] xl:max-h-[33%]` : text ? 'max-h-[50%]': 'max-h-[33%]',
  'w-full'
])
---
<a href={url} {...tileClasses}>
  <Icon icon={icon} {...iconClasses}/>
  {
    text ?
    <p class="font-bold antialiased">{text}</p> :
    <p {...titleClasses}>
      <Fragment set:html={title}/>
    </p>
    <p {...subtitleClasses}>
      {subtitle}
    </p>
    <Icon icon={arrow} class="max-h-4 xl:max-h-6 w-full"/>
  }
</a>
<style>
  .aspect-tile {
    aspect-ratio: 8 / 7;
  }
</style>
